qcn 

---------------------

 qcnlive 

 -- screensaver -- rotate views of 2D 1g and 2D auto-scale
 - wxwidget scrollbar & controls for IRIS/SeisMac-style QCNLive 2D view

--------------------

dump out memory if we think a computer "survived" a quake - i.e. on the "ping trickle"
check a list of computers that were on during a known quake event, and dump the memory
out and schedule an upload

Is there a way to have sensors upload data even if there were
no trigger by checking ever 15 minutes if there was an earthquake in last
hour. If so, it will window and upload the appropriate data to the server
(if it is within some predefined distance magnitude range).  Just checking.

--------------------

priorities -- trigger levels, qcnlive 2-d graphics, sac2jpeg/server-side & edit sac data

---------------------------

if number of resets > 20 drop graphics to 2-D only as it may be a graphics problem

---------------------------

linux ntpdate zombie procs --- look into cleaning up if ntpdate fails

--------------------

Sensor Location w/ floor
Quick question: Any chance you can include floor number in the BOINC side
computer location/Google apps like you did for the QCN_Live locatino?

---------------------------
low priority:
1) An email notification every time we receive a trigger overlapping with a
USGS quake. That way we know right away. Set a threshold of 3.8, so we don't
get a bunch of junk.

---------------------------
2) A map of quakes that have associated qcn triggers (low priority, but
would help).  I can probably get a grad student on this or something, but it
would be nice to have it automatically updating.

---------------------------
doc/sac2png or sac2jpeg -- on the server we can generate an image from the SAC uploads

Create a png file for each uploaded data group
(S,X,Y,Z). The script requires sac (including sgftops) and imagemagick
(http://www.imagemagick.org - available through fink/fink commander 

- put this on the server-side for triggers uploaded so we get a snapshot
- also at the same time input fields into sac hdr for trigger - i.e. lat/lng/depth, IDEP m/sec, magnitude, neventid etc
- also adjust sac data info for matching USGS quake time:  b = k2time - usgs_time

---------------------------

extra amplitude information - send max amplitude for past second info at 1 second intervals after a trigger 
   -- send 1/2/3/4 at 4 sec trickle, then 5/6/7/8 as trickle after 8 seconds

---------------------------

QCNLive

cut-and-paste doesn't work for lat,lng in local prefs box -- also a way to integrate google maps lookup?

- basically "clone" the SeisMac look & functionality for 2-D view, i.e. white background

  button for signif to disappear (sig defaults to off), output to text (see elesewhere)

---------------------------

for the following refer to doc/Sensor_Directions.pdf

We received a little feedback from our friends at IRIS regarding QCNLive.
First, they really like it (that's good news). They made a few suggestions
to make QCNLive more student/teacher friendly (remember many of our users
are at a 6th grade or younger comprehension level). Fortunately many of
these suggestions are on our list. I interspersed my comments in BOLD.

A) Seismogram Viewing:
1) Vertical axes for x,y,z,&s (I THINK THIS IS ON YOUR LIST ANYWAYS).

2) Can you start with significance toggled off? Without
explanation, it is hard to understand for first-timers. Let them
get used to x, y, & z, then significance. (WE SHOULD PROBABLY DEFINE
SIGNIFICANCE SOMWHERE IN THE PROGRAM - SIGNAL SIGNIFICANCE = (CURRENT
SIGNAL) / (NOISE IN THE LAST MINUTE) )

3) Make the forward & backward time motions more fluid. Make the time
zoom more fluid - not just static 1 min, 10 min, 60 min. (I THINK
THIS IS ALSO ON YOUR LIST. ALSO IF YOU COULD ALLOW THE USER TO ZOOM
MORE FLUIDLY ON THE VERTICAL AXIS, THAT WOULD BE AWESOME!)

4) Make a diagram of what directions x, y, & z are. (I MADE 2 QUICK
LITTLE FIGURES - ATTACHED HERE. FEEL FREE TO MAKE A FIGURE OF YOUR
OWN OR CHANGE THE FIGURES ANY WAY YOU WANT.)

(I JUST NOTICED THAT WE SHOULD PROBABLY RE-DEFINE X, Y, & Z FOR THE
MOTION NODE. Z SHOULD BE UP. X TO RIGHT WHEN USB CABLE IS POINTED
AWAY FROM YOU. Y SHOULD BE IN THE DIRECTION THAT THE USB CABLE IS
POINTING OUT OF THE BOX. THIS MAKES IT THE SAME AS THE MAC.)

5) Can you make the text easier to read? Some of the colored text words
are hard to read on the black background. (OR COULD WE CHANGE THE
BLACK BACKGROUND TO WHITE OR GREY FOR QCNLive? BOLD MIGHT WORK TOO.
WHATEVER IS EASIEST/BEST IS FINE BY ME.).

6) Can you simplify the box. It is hard to understand. I think there is
too much going on. (I'VE TALKED TO A FEW PEOPLE ABOUT THIS BOX. MOST
OF THEM LIKE IT, BUT HAVE TROUBLE UNDERSTANDING IT. IF WE CAN MAKE
THE BOX MOVE RIGHT FOR POSITIVE X, UP FOR POSITIVE Z, AND INTO THE
SCREEN FOR POSITIVE Y, THAT WOULD DO THE TRICK. STOP IT FROM
ROTATING. HAVE IT GROW AND SHRINK FOR LARGER MAGNITUDE?).

7) A link from the software to an instructional website would be use for
after the user has played with it. (I REALLY LIKE THIS. A LEARN MORE
BUTTON THAT LINKS BACK TO QCN).

---------------------------

B) Globe Viewing:
1) Can you have a scale on the right that shows the size of a 2, 3, 4,
5, 6, 7, and 8+ magnitude earthquake? (I think this is a great idea!)

2) Also a legend on the right showing blue circle=historic event, red
circle=last week eq.

3) Can you increase small yellow font size? It is hard to read on many
displays.

priorities are QCNLive with start-stop recording and a few other cosmetics and
functionality issues. 

a) 10 second (or 1 minute or 10 minute) numbers on the horizontal so it is even easier to see.  
b) An option to scale the vertical and horizontal scales to various levels.  Not just scaled & absolute.
c) A scroll bar at the bottom to more fluidly move back through time.
d) Tick marks that move against our current tick marks in 10 second intervals.

e) They would particularly like to see a way to read sensor data back into QCNLive. (this is something I would love too, but doesn’t need to be done right away).

IRIS has access to lots of tools that we could integrate into QCN: For example:
http://rev.seis.sc.edu/stations.html
http://rev.seis.sc.edu/

---------------------------

Recording
todo sensor text output:

Station Name: SNAME
Longitude: -117.12321
Latitude: 34.92834
Elevation: 239
Floor: 0
File Start Time: 11/07/2008 12:34:20
File End Time: 11/07/2008 12:35:40
 Time,       x,       y,       z
0.000,  -1.293,   2.393,  -0.123
0.020, -12.129, 129.010,  19.010
0.040,  -8.010,   1.001,  -0.999


When you do get around to qcnwx, there are some things I'd like
added/changed.

1) I'd like to add a button for record/stop recording, so that users can
output the series they want.

1a) turn off the "always recording" on QCN since we can select a range now

2) Several users have requested an xyz output instead of sac. So, I'd like a
switch to toggle back and forth between xyz and sac output.

3) output jpg files to a pic directory rather than sac directory

------------------------

* small program to verify accelerometer is on the system and what type(s) found

------------------------

qcn building studies

make a "qcn/bldg" site for a qcn app that continuously records & uploads

delete data every day, constrain accts to invitation-only or premade accts

------------------------

computer location info: street address, floor, and height on computer location info page

------------------------

monitoring:  setup a mysql proc for monitoring 4 second window
 - base on doc/LOC.tar.gz for generating & detecting triggers
 - perhaps a web-based java system for interactive trigger generation, display, detection

------------------------

redundant server: proposal to "mirror" QCN data via the clients to UC-Riverside and potentially another local server (i.e. Columbia)
- QCN as acct mgr or more complicated?
- triggers and uploads sent to all servers, probably a scheduler mod to affix the 3rd server
- regional ntpdate to their local server (which is ntpdate sync'd to qcn-upl)

------------------------

trigger map:

Can we add the plate boundaries (like with the globe viewing)?  Elizabeth
may have the faults for California as well. That would be really cool!!!! If
those could be button options either on the side or on the map it would be
great!!!!!

Could we have a plot of recent earthquakes? Either as a button option on the
same map, or as a second identical map.  The USGS has maps for these
earthquakes, but I figure it is nice to have maps in the same format.

------------------------

Carl,

Yes, it generally looks pretty good. It was mainly to support the main thing/you for several years.  We’re bringing in some collaborators 1) to help sell the thing as a product with community-wide demand, and 2) to get help with aspects like how QCN relates to structural engineering, getting a bunch of sensors in Columbia, and relating QCN to other early warning systems like Elarms.  It has a $1.2M pricetag, which will probably rise to 1.5 in the final proposal.  I’m inclined to front-load the proposal to get more funding sooner, which will fit better with the current infusion of funds into NSF by Obama.

For the proposal I think we’re going to need to work on things like:
Ways to share data in real/near-real time with the users & scientists
Redundant data collection (i.e. qcn-columbia)
Real-time data analysis/earthquake detection
Automatic clustering algorithms to group sensors/triggers for detection
linked with redundant data collection
organized by location
cluster must be large enough for statistics to work
depends on number of USB/regular sensors
Include data from regular networks
Automatic detection algorithms
Locate event (for eq verification)
Determine event magnitude from distances/amplitudes
Notifications for large events (delayed by a minute or so – first to us, then to everyone)
Automatic adjustments for trigger parameters for sensors that trigger too often.
Automatic adjustments for slower sampling rate if NTP drifts. 0.02-0.2-0.5-1 sps.
Incorporate data from regular sensor networks
Make separate qcn system for week-long building analyses where we collect data continuously on all sensors in a building – requires additional information like floor/level.
We’ll want to group this data by building
We’ll want to run some automatic codes on the data (this could be distributed as well)
See http://pangea.stanford.edu/~gprieto/images/fmov1.avi for example of building results

From your view what are the major challenges for cyber-boinc-qcn.

 
